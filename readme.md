# Gmail Trader Bot

Telegram –±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó —Ç–æ—Ä–≥—ñ–≤–ª—ñ Gmail –∞–∫–∞—É–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ Gmail Farmer Trade API.

## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- üìù –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç–Ω–∏—Ö –æ—Ä–¥–µ—Ä—ñ–≤ –Ω–∞ –∫—É–ø—ñ–≤–ª—é –∞–∫–∞—É–Ω—Ç—ñ–≤
- ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ—Ä–¥–µ—Ä—ñ–≤ –ø—Ä–∏ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—ñ —Ü—ñ–ª—å–æ–≤–æ—ó —Ü—ñ–Ω–∏
- üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Ç–æ—á–Ω–∏—Ö —Ü—ñ–Ω (–∑ 2FA —Ç–∞ –±–µ–∑)
- üîî –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –≤–∏–∫–æ–Ω–∞–Ω—ñ –ø–æ–∫—É–ø–∫–∏
- üí∞ –ü–µ—Ä–µ–≥–ª—è–¥ –±–∞–ª–∞–Ω—Å—É API
- ‚öôÔ∏è –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–æ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- üìà –Ü—Å—Ç–æ—Ä—ñ—è —Ü—ñ–Ω —Ç–∞ –ø–æ–∫—É–ø–æ–∫

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- Python 3.11+
- aiogram 3.x
- SQLAlchemy (async)
- PostgreSQL
- APScheduler

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
gmail-trader-bot/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start.py          # –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é —Ç–∞ –±–∞–∑–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders.py         # –ö–µ—Ä—É–≤–∞–Ω–Ω—è –æ—Ä–¥–µ—Ä–∞–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin.py          # –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ inline.py         # –Ü–Ω–ª–∞–π–Ω –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py         # –ú–æ–¥–µ–ª—ñ –ë–î
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ db.py             # –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api_client.py     # Gmail Farmer API –∫–ª—ñ—î–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ order_processor.py # –û–±—Ä–æ–±–∫–∞ –æ—Ä–¥–µ—Ä—ñ–≤
‚îÇ   ‚îî‚îÄ‚îÄ scheduler/
‚îÇ       ‚îî‚îÄ‚îÄ tasks.py          # –§–æ–Ω–æ–≤—ñ –∑–∞–¥–∞—á—ñ
‚îú‚îÄ‚îÄ main.py                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îú‚îÄ‚îÄ config.py                 # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ requirements.txt          # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îî‚îÄ‚îÄ .env.example              # –ü—Ä–∏–∫–ª–∞–¥ –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è
```

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π

```bash
git clone <your-repo-url>
cd gmail-trader-bot
```

### 2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```bash
pip install -r requirements.txt
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è

–°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.example`:

```bash
cp .env.example .env
```

–ó–∞–ø–æ–≤–Ω–∏—Ç–∏ –∑–º—ñ–Ω–Ω—ñ:

```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞_–≤—ñ–¥_BotFather
OWNER_ID=–≤–∞—à_telegram_id
API_DOMAIN=https://trade.gmailfarmer.com
API_KEY=–≤–∞—à_api_–∫–ª—é—á
DATABASE_URL=postgresql+asyncpg://user:password@host:port/dbname
```

**–Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏:**
- `BOT_TOKEN`: —Å—Ç–≤–æ—Ä–∏—Ç–∏ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
- `OWNER_ID`: –¥—ñ–∑–Ω–∞—Ç–∏—Å—è —Å–≤—ñ–π ID —á–µ—Ä–µ–∑ [@userinfobot](https://t.me/userinfobot)
- `API_KEY`: –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤ –¥–∞—à–±–æ—Ä–¥—ñ Gmail Farmer Trade

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö

**–î–ª—è Railway:**
1. –î–æ–¥–∞—Ç–∏ PostgreSQL –ø–ª–∞–≥—ñ–Ω
2. –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ `DATABASE_URL` –∑—ñ –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è Railway
3. –§–æ—Ä–º–∞—Ç: `postgresql+asyncpg://user:password@host:port/dbname`

**–õ–æ–∫–∞–ª—å–Ω–æ:**
```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ PostgreSQL
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö
createdb gmail_trader
```

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞

```bash
python main.py
```

## –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Railway

### 1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞

–°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª `Procfile`:
```
web: python main.py
```

–°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª `runtime.txt`:
```
python-3.11.7
```

### 2. –ö—Ä–æ–∫–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

1. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –Ω–∞ [Railway.app](https://railway.app)
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –ø—Ä–æ—î–∫—Ç
3. –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
4. –î–æ–¥–∞—Ç–∏ PostgreSQL –ø–ª–∞–≥—ñ–Ω
5. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è:
   - `BOT_TOKEN`
   - `OWNER_ID`
   - `API_DOMAIN`
   - `API_KEY`
   - `DATABASE_URL` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑ PostgreSQL)
   - `PRICE_CHECK_INTERVAL_MINUTES`
   - `PRICE_NOTIFICATION_INTERVAL_MINUTES`

6. Deploy!

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

- `/start` - –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞ —Ç–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –≥–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é

### –§—É–Ω–∫—Ü—ñ—ó

#### üìù –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ—Ä–¥–µ—Ä–∞

1. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ –æ—Ä–¥–µ—Ä"
2. –û–±—Ä–∞—Ç–∏ —Ç–∏–ø –∞–∫–∞—É–Ω—Ç—ñ–≤ (–∑ 2FA —á–∏ –±–µ–∑)
3. –í–∫–∞–∑–∞—Ç–∏ —Ü—ñ–ª—å–æ–≤—É —Ü—ñ–Ω—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 0.50)
4. –í–∫–∞–∑–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å (1-3000)
5. –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è

#### üìä –ü–µ—Ä–µ–≥–ª—è–¥ —Ü—ñ–Ω

–ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "üìä –ü–æ—Ç–æ—á–Ω—ñ —Ü—ñ–Ω–∏" –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –∞–∫—Ç—É–∞–ª—å–Ω–∏—Ö —Ü—ñ–Ω –Ω–∞ –∞–∫–∞—É–Ω—Ç–∏.

#### üìù –ú–æ—ó –æ—Ä–¥–µ—Ä–∏

–ü–µ—Ä–µ–≥–ª—è–¥ –∞–∫—Ç–∏–≤–Ω–∏—Ö –æ—Ä–¥–µ—Ä—ñ–≤:
- üü¢ –ó–µ–ª–µ–Ω–∏–π - —Ü—ñ–Ω–∞ –¥–æ—Å—è–≥–Ω—É—Ç–∞, –æ—á—ñ–∫—É—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
- üî¥ –ß–µ—Ä–≤–æ–Ω–∏–π - —Ü—ñ–Ω–∞ —â–µ –Ω–µ –¥–æ—Å—è–≥–Ω—É—Ç–∞

#### ‚öôÔ∏è –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –≤–ª–∞—Å–Ω–∏–∫–∞)

- –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑–∞ Telegram ID
- –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –ü–µ—Ä–µ–≥–ª—è–¥ —Å–ø–∏—Å–∫—É –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–æ–±–æ—Ç–∞

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- –ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ü—ñ–Ω–∏ –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω (–Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è)
- –í–∏–∫–æ–Ω—É—î –æ—Ä–¥–µ—Ä–∏ –ø—Ä–∏ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—ñ —Ü—ñ–ª—å–æ–≤–æ—ó —Ü—ñ–Ω–∏
- –í—ñ–¥–ø—Ä–∞–≤–ª—è—î —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ —Ü—ñ–Ω–∏ –∫–æ–∂–Ω—É –≥–æ–¥–∏–Ω—É (–Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è)
- –°–ø–æ–≤—ñ—â–∞—î –ø—Ä–æ –≤–∏–∫–æ–Ω–∞–Ω—ñ –ø–æ–∫—É–ø–∫–∏

### –õ–æ–≥—ñ–∫–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ—Ä–¥–µ—Ä—ñ–≤

–ü—Ä–∏ –æ–±–º–µ–∂–µ–Ω–æ–º—É –±–∞–ª–∞–Ω—Å—ñ –æ—Ä–¥–µ—Ä–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –ø–æ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—É:
1. –¢—ñ–ª—å–∫–∏ —è–∫—â–æ `–ø–æ—Ç–æ—á–Ω–∞_—Ü—ñ–Ω–∞ <= —Ü—ñ–ª—å–æ–≤–∞_—Ü—ñ–Ω–∞`
2. –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –ø–æ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—é —Ü—ñ–ª—å–æ–≤–æ—ó —Ü—ñ–Ω–∏ (–Ω–∞–π–¥–µ—à–µ–≤—à—ñ –ø–µ—Ä—à–∏–º–∏)
3. –£ –º–µ–∂–∞—Ö –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å—É

## API –°—Ç—Ä—É–∫—Ç—É—Ä–∞

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

**Users** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–æ—Ç–∞
- `id` (Telegram ID)
- `username`
- `first_name`
- `is_blocked`
- `created_at`

**Orders** - –æ—Ä–¥–µ—Ä–∏ –Ω–∞ –∫—É–ø—ñ–≤–ª—é
- `id`
- `user_id`
- `target_price`
- `quantity`
- `is_2fa`
- `status` (active/completed/cancelled)
- `created_at`
- `completed_at`

**Purchases** - –≤–∏–∫–æ–Ω–∞–Ω—ñ –ø–æ–∫—É–ø–∫–∏
- `id`
- `order_id`
- `pack_id`
- `accounts_count`
- `price_paid`
- `total_price`
- `is_2fa`
- `purchase_date`

**Accounts** - –∫—É–ø–ª–µ–Ω—ñ –∞–∫–∞—É–Ω—Ç–∏
- `id`
- `purchase_id`
- `email`
- `password`
- `recovery_email`
- `app_password`
- `authenticator_token_2fa`
- `status` (available/used)

**PriceHistory** - —ñ—Å—Ç–æ—Ä—ñ—è —Ü—ñ–Ω
- `id`
- `timestamp`
- `price_no_2fa`
- `price_2fa`

## Troubleshooting

### –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π `BOT_TOKEN`
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏: `railway logs`

### –ü–æ–º–∏–ª–∫–∏ –ë–î
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ–æ—Ä–º–∞—Ç `DATABASE_URL`
- –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è —â–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω–∏–π

### –û—Ä–¥–µ—Ä–∏ –Ω–µ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –±–∞–ª–∞–Ω—Å API
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫–∞
- –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è —â–æ `API_KEY` –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–î–ª—è –ø–∏—Ç–∞–Ω—å —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∑–≤–µ—Ä—Ç–∞–π—Ç–µ—Å—å –¥–æ [@GmailFarmerTrade](https://t.me/GmailFarmerTrade)